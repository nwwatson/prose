<%= form_with model: [:admin, post], id: "post_form",
      data: { action: "input->autosave#scheduleAutosave change->autosave#handleChange lexxy:change->autosave#scheduleAutosave submit->autosave#preventSubmit" } do |f| %>
  <% if post.errors.any? %>
    <div class="mb-6 rounded-md bg-red-50 p-4">
      <h3 class="text-sm font-medium text-red-800"><%= pluralize(post.errors.count, "error") %> prevented this post from being saved:</h3>
      <ul class="mt-2 list-disc pl-5 text-sm text-red-700">
        <% post.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%# Writing area â€” matches public post display %>
  <div class="space-y-4">
    <%= f.text_area :title, rows: 1,
          class: "block w-full resize-none overflow-hidden border-0 bg-transparent p-0 font-display text-4xl font-bold leading-tight text-gray-900 placeholder:text-gray-300 focus:ring-0 lg:text-5xl",
          placeholder: "Post title",
          data: { controller: "autogrow", action: "input->autogrow#resize" } %>

    <%= f.text_area :subtitle, rows: 1,
          class: "block w-full resize-none overflow-hidden border-0 bg-transparent p-0 text-xl text-gray-500 placeholder:text-gray-300 focus:ring-0",
          placeholder: "Add a subtitle...",
          data: { controller: "autogrow", action: "input->autogrow#resize" } %>

    <hr class="border-gray-200">

    <div class="editor-writing-area"
         data-controller="x-post-embed youtube-embed"
         data-x-post-embed-url-value="<%= admin_x_posts_path %>"
         data-youtube-embed-url-value="<%= admin_youtube_videos_path %>">
      <%= f.rich_text_area :content, class: "min-h-[60vh] block w-full font-serif text-lg" %>
    </div>
  </div>

<% end %>
