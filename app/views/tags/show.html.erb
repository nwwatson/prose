<% content_for(:title, page_title(@tag.name)) %>

<% content_for(:head) do %>
  <% tag_description = "Posts tagged with #{@tag.name}" %>
  <%= meta_description_tag(tag_description) %>
  <%= open_graph_tags(title: "Tagged: #{@tag.name} — #{site_name}", description: tag_description, url: tag_url(@tag, slug: @tag.slug)) %>
  <%= twitter_card_tags(title: "Tagged: #{@tag.name} — #{site_name}", description: tag_description) %>
  <%= canonical_tag(tag_url(@tag, slug: @tag.slug)) %>
<% end %>

<div>
  <h1 class="font-display text-3xl font-bold"><%= t('tags.show.tagged', name: @tag.name) %></h1>
</div>

<div class="mt-8 space-y-8">
  <% @posts.each do |post| %>
    <article class="border-b border-gray-200 dark:border-gray-700 pb-8">
      <h3 class="font-display text-2xl font-bold">
        <%= link_to post.title, post_path(post, slug: post.slug), class: "text-charcoal hover:text-ink-blue transition-colors no-underline" %>
      </h3>
      <div class="mt-2 flex items-center space-x-3 text-sm text-gray-500 dark:text-gray-400">
        <span><%= t('shared.by') %> <%= post.user.display_name %></span>
        <span>&middot;</span>
        <time datetime="<%= post.published_at.iso8601 %>"><%= post.published_at.strftime("%B %-d, %Y") %></time>
      </div>
    </article>
  <% end %>
</div>
